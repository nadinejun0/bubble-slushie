document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".gallery-item"),t=document.getElementById("drop-zone");function n(e){e.addEventListener("mousedown",(function(n){n.preventDefault();const o=e.getBoundingClientRect(),i=t.getBoundingClientRect(),d=n.clientX-o.left,s=n.clientY-o.top;function l(t){if(t.clientX<i.left||t.clientX>i.right||t.clientY<i.top||t.clientY>i.bottom){let n=t.pageX-d-i.left,o=t.pageY-s-i.top;n<0&&(n=0),o<0&&(o=0),n+e.offsetWidth>i.width&&(n=i.width-e.offsetWidth),o+e.offsetHeight>i.height&&(o=i.height-e.offsetHeight),e.style.left=`${n}px`,e.style.top=`${o}px`,document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)}else!function(t,n){let o=t-d-i.left,l=n-s-i.top;o<0&&(o=0),l<0&&(l=0),o+e.offsetWidth>i.width&&(o=i.width-e.offsetWidth),l+e.offsetHeight>i.height&&(l=i.height-e.offsetHeight),e.style.left=`${o}px`,e.style.top=`${l}px`}(t.pageX,t.pageY)}function c(e){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)}document.addEventListener("mousemove",l),document.addEventListener("mouseup",c)})),e.ondragstart=function(){return!1}}document.getElementById("drop-zone").addEventListener("dblclick",(function(e){"img"===e.target.tagName.toLowerCase()&&e.target.remove()})),e.forEach((function(e){e.addEventListener("click",(function(){const o=e.cloneNode(!0);o.style.position="absolute",o.style.left="50px",o.style.top="50px",n(o),t.appendChild(o)}))}))}));